{% extends "base.html" %}

{% block title %}Book Medical Transport - First Med Care EMS{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="hero-section" style="padding: 80px 0;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4 fw-bold">Book Medical Transport</h1>
                <p class="lead">Schedule your medical transportation with our professional team</p>
            </div>
        </div>
    </div>
</section>

<!-- Booking Form -->
<section class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card shadow-lg border-0">
                    <div class="card-body p-5">
                        <h3 class="card-title text-center mb-4">Transportation Request Form</h3>
                        <p class="text-center text-muted mb-4">Please fill out all required fields to process your booking request</p>
                        
                        <form action="{{ url_for('submit_booking') }}" method="POST" data-ajax>
                            <div class="row g-3">
                                <!-- Personal Information -->
                                <div class="col-12">
                                    <h5 class="text-primary mb-3">Personal Information</h5>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="name" class="form-label">Full Name *</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">Phone Number *</label>
                                    <input type="tel" class="form-control" id="phone" name="phone" required>
                                </div>
                                
                                <!-- Service Information -->
                                <div class="col-12 mt-4">
                                    <h5 class="text-primary mb-3">Service Information</h5>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="service_type" class="form-label">Service Type *</label>
                                    <select class="form-select" id="service_type" name="service_type" required>
                                        <option value="">Select Service Type</option>
                                        <option value="Emergency Transport">Emergency Transport</option>
                                        <option value="Non-Emergency Transport">Non-Emergency Transport</option>
                                        <option value="Critical Care Transport">Critical Care Transport</option>
                                        <option value="Wheelchair Transport">Wheelchair Transport</option>
                                        <option value="Stretcher Transport">Stretcher Transport</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="date" class="form-label">Preferred Date *</label>
                                    <input type="date" class="form-control" id="date" name="date" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="time" class="form-label">Preferred Time *</label>
                                    <input type="time" class="form-control" id="time" name="time" required>
                                </div>
                                
                                <!-- Location Information -->
                                <div class="col-12 mt-4">
                                    <h5 class="text-primary mb-3">Location Information</h5>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="pickup_location" class="form-label">Pickup Location *</label>
                                    <input type="text" class="form-control" id="pickup_location" name="pickup_location" 
                                           placeholder="Street address, city, state, zip" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="destination" class="form-label">Destination *</label>
                                    <input type="text" class="form-control" id="destination" name="destination" 
                                           placeholder="Hospital, clinic, or address" required>
                                </div>
                                
                                <!-- Additional Information -->
                                <div class="col-12 mt-4">
                                    <h5 class="text-primary mb-3">Additional Information</h5>
                                </div>
                                
                                <div class="col-12">
                                    <label for="message" class="form-label">Special Instructions or Notes</label>
                                    <textarea class="form-control" id="message" name="message" rows="4" 
                                              placeholder="Please provide any special medical requirements, equipment needs, or other important details..."></textarea>
                                </div>
                                
                                <!-- Submit Button -->
                                <div class="col-12 mt-4">
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-primary btn-lg">
                                            <i class="fas fa-paper-plane me-2"></i>Submit Booking Request
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Emergency Notice -->
                                <div class="col-12 mt-4">
                                    <div class="alert alert-warning" role="alert">
                                        <i class="fas fa-exclamation-triangle me-2"></i>
                                        <strong>Medical Emergency?</strong> If this is a medical emergency, please call 911 or our emergency line at (555) 123-4567 immediately.
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Information -->
<section class="contact-info">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h3 class="mb-4">Need Immediate Assistance?</h3>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-phone text-primary fs-1 mb-3"></i>
                            <h5>Emergency Line</h5>
                            <p class="fw-bold">(555) 123-4567</p>
                            <small class="text-muted">Available 24/7</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-envelope text-primary fs-1 mb-3"></i>
                            <h5>Email Support</h5>
                            <p>info@firstmedcareems.com</p>
                            <small class="text-muted">Response within 2 hours</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-clock text-primary fs-1 mb-3"></i>
                            <h5>Business Hours</h5>
                            <p>24/7 Service</p>
                            <small class="text-muted">Always available</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Set minimum date to today
    document.addEventListener('DOMContentLoaded', function() {
        const dateInput = document.getElementById('date');
        const today = new Date().toISOString().split('T')[0];
        dateInput.min = today;
        
        // Set minimum time to current time if today is selected
        const timeInput = document.getElementById('time');
        dateInput.addEventListener('change', function() {
            if (this.value === today) {
                const now = new Date();
                const currentTime = now.getHours().toString().padStart(2, '0') + ':' + 
                                  (now.getMinutes() + 1).toString().padStart(2, '0');
                timeInput.min = currentTime;
            } else {
                timeInput.min = '';
            }
        });
    });
</script>
{% endblock %}